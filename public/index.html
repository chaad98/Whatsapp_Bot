<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing</title>
</head>
<body>
    <div id="qrCodeContainer"></div>
    <div id="messageContainer"></div>

    <script>
        // Fetch QR code data (base64 image) from the server
        fetch('/getQRCode')
            .then(response => response.text()) // Expecting text, not JSON
            .then(base64QRCodeImage => {
                const qrCodeContainer = document.getElementById('qrCodeContainer');

                // Create an image element with the QR code data
                const img = document.createElement('img');
                img.src = `data:image/png;base64,${base64QRCodeImage}`;
                img.alt = 'QR Code';

                // Append the image to the container
                qrCodeContainer.appendChild(img);
                console.log('QR Code base 64 String: ', base64QRCodeImage);
            })
            .catch(error => {
                console.error('Error fetching QR code data:', error);
            });

            // fetch('/sendMessage')
            // .then(response => response.json())
            // .then(incomingData => {
            //     const messageContainer = document.getElementById('messageContainer');

            //     // Create a paragraph element to display the message
            //     const messageParagraph = document.createElement('p');
            //     messageContainer.append(messageParagraph);

            //     console.log('Received data: ' + JSON.stringify(incomingData, null, 2));
            // })
            // .catch(error => {
            //     console.error('Error fetching QR code data:', error);
            // });
    </script>
</body>
</html>
